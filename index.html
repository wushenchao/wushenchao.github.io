<!DOCTYPE html>



  


<html class="theme-next pisces use-motion" lang>
<head><meta name="generator" content="Hexo 3.8.0">
  <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
<meta name="theme-color" content="#222">









<meta http-equiv="Cache-Control" content="no-transform">
<meta http-equiv="Cache-Control" content="no-siteapp">
















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css">







<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css">

<link href="/css/main.css?v=5.1.4" rel="stylesheet" type="text/css">


  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=5.1.4">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=5.1.4">


  <link rel="mask-icon" href="/images/logo.svg?v=5.1.4" color="#222">





  <meta name="keywords" content="Hexo, NexT">










<meta property="og:type" content="website">
<meta property="og:title" content="不知是哪个号">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="不知是哪个号">
<meta property="og:locale" content="default">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="不知是哪个号">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    version: '5.1.4',
    sidebar: {"position":"left","display":"post","offset":12,"b2t":false,"scrollpercent":false,"onmobile":false},
    fancybox: true,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    duoshuo: {
      userId: '0',
      author: 'Author'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://yoursite.com/">





  <title>不知是哪个号</title>
  








</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="default">

  
  
    
  

  <div class="container sidebar-position-left 
  page-home">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">不知是哪个号</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">It is never too old to learn.</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br>
            
            Home
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br>
            
            About
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br>
            
            Tags
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br>
            
            Categories
          </a>
        </li>
      

      
    </ul>
  

  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/25/17-Linux命令02/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知是哪个号">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/25/17-Linux命令02/" itemprop="url">17-Linux命令2</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-25T00:00:00+08:00">
                2017-09-25
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2017/09/25/17-Linux命令02/" class="leancloud_visitors" data-flag-title="17-Linux命令2">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h3 id="一-进程管理"><a href="#一-进程管理" class="headerlink" title="一.进程管理"></a>一.进程管理</h3><h4 id="1-创建进程：有两种方式来创建进程，前台进程和后台进程。"><a href="#1-创建进程：有两种方式来创建进程，前台进程和后台进程。" class="headerlink" title="1.创建进程：有两种方式来创建进程，前台进程和后台进程。"></a>1.创建进程：有两种方式来创建进程，前台进程和后台进程。</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">前台进程：默认情况下用户创建的都是前台进程例如：$ls *.txt</span><br><span class="line">后台进程：后台进程不必等待程序运行结束时就可以输入其他命令。最简单的方式就是在末尾加&amp; 如 $ls *.txt &amp;</span><br></pre></td></tr></table></figure>
<p>####2.查看正在运行的进程<br>可以使用 ps  或者 ps －f 来查看正在运行的进程<br>其他如:</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>-a</td>
<td>显示所有用户的所有进程。</td>
</tr>
<tr>
<td>-x</td>
<td>显示无终端的进程。</td>
</tr>
<tr>
<td>-u</td>
<td>显示更多信息，类似于 -f 选项。</td>
</tr>
<tr>
<td>-e</td>
<td>显示所有进程。</td>
</tr>
</tbody>
</table>
<table>
<thead>
<tr>
<th>列</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>UID</td>
<td>进程所属用户的ID，即哪个用户创建了该进程。</td>
</tr>
<tr>
<td>PID</td>
<td>进程ID。</td>
</tr>
<tr>
<td>PPID</td>
<td>父进程ID，创建该进程的进程称为父进程。</td>
</tr>
<tr>
<td>C</td>
<td>CPU使用率。</td>
</tr>
<tr>
<td>STIME</td>
<td>进程被创建的时间。</td>
</tr>
<tr>
<td>TTY</td>
<td>与进程有关的终端类型。</td>
</tr>
<tr>
<td>TIME</td>
<td>进程所使用的CPU时间。</td>
</tr>
<tr>
<td>CMD</td>
<td>创建该进程的命令。</td>
</tr>
</tbody>
</table>
<p>####3.终止进程<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">当进程运行在前台时，可以通过 kill 命令或 Ctrl+C 组合键来结束进程。</span><br><span class="line">如果进程忽略kill命令 可以使用 kill－9 pid</span><br><span class="line"></span><br><span class="line">孤儿进程：正常情况下，子进程在被终止时会通过sigchld信号通知父进程，父进程会做一些清理工作或重启一个新的进程。在一些特殊情况下，父进程在子进程终止前被终止，那么这些子进程被称为孤儿进程。</span><br><span class="line"></span><br><span class="line">僵尸进程：如果一个进程被终止了，但使用ps命令可以查看该进程，并且状态为z，那么这就是一个僵尸进程。</span><br><span class="line"></span><br><span class="line">常驻进程：常驻进程一般时系统级进程，以root权限在后台，可以处理其他进程的请求。</span><br><span class="line">常驻进程没有终端.</span><br><span class="line"></span><br><span class="line">top命令：它可以动态显示正在运行的进程，还可以按条件对进程进行排序。</span><br></pre></td></tr></table></figure></p>
<h4 id="4-任务和进程"><a href="#4-任务和进程" class="headerlink" title="4.任务和进程"></a>4.任务和进程</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">任务：任务是抽象的，是一个一般性的术语，指由软件完成的一个活动。一个任务即可以是一个进程，也可以是多个进程。简而言之，它是指一系列共同达到莫一目的的操作。</span><br><span class="line"></span><br><span class="line">进程：常常被定义为程序的执行。可以把一个进程看成是一个独立的进程，在内存中有其完备的数据空间和代码空间。一个进程所拥有的数据和变量只属于它自己。</span><br><span class="line"></span><br><span class="line">jobs －l 命令可以查看当前任务包含的进程id</span><br></pre></td></tr></table></figure>
<h4 id="5前台任务和后台任务的切换"><a href="#5前台任务和后台任务的切换" class="headerlink" title="5前台任务和后台任务的切换"></a>5前台任务和后台任务的切换</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">fg命令可以将后台任务调节到前台。语法：$fg %jobnumber</span><br><span class="line"></span><br><span class="line">bg命令可以将前台任务调节到后台。语法：$bg %jobnumber</span><br><span class="line"></span><br><span class="line">jobnumber 是通过 jobs 命令获取的后台任务的的序号，注意不是pid。如果只有一个任务，可以不指定 jobnumber。</span><br><span class="line"></span><br><span class="line">如果希望将当前任务转移到后台，可以先 Ctrl+z 暂停任务，再使用 bg 命令。任务转移到后台可以空出终端，继续输入其他命令。</span><br></pre></td></tr></table></figure>
<h3 id="二-网络通信工具"><a href="#二-网络通信工具" class="headerlink" title="二.网络通信工具"></a>二.网络通信工具</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">ping命令 向网络主机发送应答请求，根据响应判断远程主机是否可用。</span><br><span class="line">语法：$ping hostname or ip－address</span><br><span class="line"></span><br><span class="line">telnet工具</span><br><span class="line">Telnet 工具可以让我们连接并登录到远程计算机。</span><br><span class="line"></span><br><span class="line">finger工具</span><br><span class="line">finger 可以让我们查看本地主机或远程主机上的用户信息。有些系统为了安全会禁用 finger 命令。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ftp工具</span><br><span class="line">ftp 是 File Transfer Protocol 的缩写，称为文件传输协议。通过 ftp 工具，能够将文件上传到远程服务器，也可以从远程服务器下载文件。</span><br><span class="line"></span><br><span class="line">ftp 工具有自己的命令（类似Linux命令），可以：</span><br><span class="line">1.连接并登录远程主机；</span><br><span class="line">2.查看目录，遍历目录下的文件；</span><br><span class="line">3.上传或下载文件，包括文本文件、二进制文件等。</span><br><span class="line"></span><br><span class="line">ftp的语法：ftp hostname or ip－address</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>ftp命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>put filename</td>
<td>将本地文件上传到远程主机。</td>
</tr>
<tr>
<td>get filenam</td>
<td>将远程文件下载到本地。</td>
</tr>
<tr>
<td>mput file list</td>
<td>将多个本地文件上传到远程主机。</td>
</tr>
<tr>
<td>mget file list</td>
<td>将多个远程文件下载到本地。</td>
</tr>
<tr>
<td>prompt off</td>
<td>关闭提示。默认使用 mput 或 mget 命令会不断提示你确认文件的上传或下载。</td>
</tr>
<tr>
<td>prompt on</td>
<td>打开提示。</td>
</tr>
<tr>
<td>dir</td>
<td>列出远程主机当前目录下的所有文件。</td>
</tr>
<tr>
<td>cd dirname</td>
<td>改变远程主机目录。</td>
</tr>
<tr>
<td>lcd dirname</td>
<td>改变本地目录。</td>
</tr>
<tr>
<td>quit</td>
<td>退出登录。</td>
</tr>
</tbody>
</table>
<p>###三.VI编辑器</p>
<p>####1.进入vi编辑器</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>vi filename</td>
<td>如果filename存在，则打开；否则会创建一个新文件再打开。</td>
</tr>
<tr>
<td>vi -R filename</td>
<td>以只读模式（只能查看不能编辑）打开现有文件。</td>
</tr>
<tr>
<td>view filename</td>
<td>以只读模式打开现有文件。</td>
</tr>
</tbody>
</table>
<p>####2.工作模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">1.普通模式</span><br><span class="line">由shell进入vi编辑器时，首先进入普通模式，在普通模式下，从键盘输入任何字符都被当作命令来解释。普通模式下没有任何提示符，输入命令后立即执行，不需要回车，而且输入字符在屏幕上不显示。</span><br><span class="line"></span><br><span class="line">普通模式下可以执行命令，保存文件，移动光标，粘贴复制。</span><br><span class="line"></span><br><span class="line">2.编辑模式</span><br><span class="line">编辑模式主要用于文本编辑，该模式下用户输入的任何字符都被当作文件的内容保存起来，并在屏幕上显示出来。</span><br><span class="line"></span><br><span class="line">3.命令模式</span><br><span class="line">命令模式下，用户可以对文件进行一些高级的处理，如执行一些字符串的查找，替换和显示符号等操作必须进入命令模式。</span><br><span class="line"></span><br><span class="line">工作模式切换：</span><br><span class="line">在普通模式下输入 i(插入)、c(修改)、o(另起一行) 命令时进入编辑模式；按 esc 键退回到普通模式。</span><br><span class="line">在普通模式下输入冒号(:)可以进入命令模式。输入完命令按回车，命令执行完后会自动退回普通模式。s</span><br></pre></td></tr></table></figure>
<p>####3.退出vi编辑器</p>
<table>
<thead>
<tr>
<th>退出命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>q</td>
<td>如果文件未被修改，会直接退回到Shell；否则提示保存文件。</td>
</tr>
<tr>
<td>q!</td>
<td>强行退出，不保存修改内容。</td>
</tr>
<tr>
<td>wq</td>
<td>w 命令保存文件，q 命令退出 vi，合起来就是保存并退出。</td>
</tr>
<tr>
<td>ZZ</td>
<td>保存并退出，相当于 wq，但是更加方便。</td>
</tr>
</tbody>
</table>
<p><strong><em>注意:</em></strong>  zz使用shift＋zz方式 其他使用shift+: 命令 +回车</p>
<p>####4.控制命令</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>CTRL+d</td>
<td>向前滚动半屏</td>
</tr>
<tr>
<td>CTRL+f</td>
<td>向前滚动全屏</td>
</tr>
<tr>
<td>CTRL+u</td>
<td>向后滚动半屏</td>
</tr>
<tr>
<td>CTRL+b</td>
<td>向后滚动全屏</td>
</tr>
<tr>
<td>CTRL+e</td>
<td>向上滚动一行</td>
</tr>
<tr>
<td>CTRL+y</td>
<td>向下滚动一行</td>
</tr>
<tr>
<td>CTRL+i</td>
<td>刷新屏幕</td>
</tr>
</tbody>
</table>
<p>####5.编辑文件<br>切换到编辑模式下才能编辑文件，从普通模式切换到编辑模式的命令如下</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>i</td>
<td>在当前光标位置之前插入</td>
</tr>
<tr>
<td>I</td>
<td>在当前行的开头插入</td>
</tr>
<tr>
<td>a</td>
<td>在当前光标位置之后插入</td>
</tr>
<tr>
<td>A</td>
<td>在当前行的末尾插入</td>
</tr>
<tr>
<td>o</td>
<td>在当前位置下面创建一行</td>
</tr>
<tr>
<td>O</td>
<td>在当前位置上面创建一行</td>
</tr>
<tr>
<td>fn + ⬆️</td>
<td>光标移动到当前屏幕开始位置</td>
</tr>
<tr>
<td>fn + ⬇️</td>
<td>光标移动到当前屏幕末尾位置</td>
</tr>
<tr>
<td>fn + ⬅️</td>
<td>光标移动到当前行开头</td>
</tr>
<tr>
<td>fn + ➡️</td>
<td>光标移动到当前行末尾</td>
</tr>
</tbody>
</table>
<p>####6.删除字符或行</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>x</td>
<td>删除当前光标下的字符</td>
</tr>
<tr>
<td>X</td>
<td>删除光标前面的字符</td>
</tr>
<tr>
<td>dw</td>
<td>删除从当前光标到单词结尾的字符</td>
</tr>
<tr>
<td>d^</td>
<td>删除从当前光标到行首的字符</td>
</tr>
<tr>
<td>d$</td>
<td>删除从当前光标到行尾的字符</td>
</tr>
<tr>
<td>D</td>
<td>删除从当前光标到行尾的字符</td>
</tr>
<tr>
<td>dd</td>
<td>删除当前光标所在的行</td>
</tr>
</tbody>
</table>
<p>可以在命令前面添加一个数字前缀，表示重复操作的次数，例如，2x  表示连续两次删除光标下的字符，2dd 表示连续两次删除光标所在的行。</p>
<p>####7.修改文本</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>cc</td>
<td>删除当前行，并进入编辑模式。</td>
</tr>
<tr>
<td>cw</td>
<td>删除当前字（单词），并进入编辑模式。</td>
</tr>
<tr>
<td>r</td>
<td>替换当前光标下的字符。</td>
</tr>
<tr>
<td>R</td>
<td>从当前光标开始替换字符，按 Esc 键退出。</td>
</tr>
<tr>
<td>s</td>
<td>用输入的字符替换当前字符，并进入编辑模式。</td>
</tr>
<tr>
<td>S</td>
<td>用输入的文本替换当前行，并进入编辑模式。</td>
</tr>
</tbody>
</table>
<p>####8.粘贴复制</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>描述</th>
</tr>
</thead>
<tbody>
<tr>
<td>yy</td>
<td>复制当前行</td>
</tr>
<tr>
<td>nyy</td>
<td>复制n行</td>
</tr>
<tr>
<td>yw</td>
<td>复制一个字（单词）</td>
</tr>
<tr>
<td>nyw</td>
<td>复制n行</td>
</tr>
<tr>
<td>p</td>
<td>将复制的文本粘贴到光标后面</td>
</tr>
<tr>
<td>P</td>
<td>将复制的文本粘贴到光标前面</td>
</tr>
</tbody>
</table>
<p>文本替换</p>
<p>切换到命令模式，再输入 s/ 命令即可对文本进行替换。语法为：<br>:s/search/replace/g<br>search 为检索的文本，replace 为要替换的文本，g 表示全局替换</p>
<p>几点提示</p>
<p>vi 编辑器的使用讲解完毕，但是请记住下面几点：<br>输入冒号(:)进入命令模式，按两次 Esc 键进入普通模式。<br>命令大小写的含义是不一样的。<br>必须在编辑模式下才能输入内容。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/09/22/16-Linux命令01/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知是哪个号">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/09/22/16-Linux命令01/" itemprop="url">16-Linux 命令1</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-09-22T00:00:00+08:00">
                2017-09-22
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2017/09/22/16-Linux命令01/" class="leancloud_visitors" data-flag-title="16-Linux 命令1">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###一 ：文件的基本操作，创建，删除，复制，重命名及为文件创建链接。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">查看文件：ls </span><br><span class="line">查看文件的更多信息：ls －l </span><br><span class="line">查看文件隐藏文件：ls －a</span><br><span class="line"></span><br><span class="line">创建文件：vi fileName   </span><br><span class="line">i键开始编辑，esc退出编辑，组合键shift＋zz完全退出。</span><br><span class="line">或者是shift＋：再使用wq完全退出。</span><br><span class="line"></span><br><span class="line">编辑文件：vi fileName</span><br><span class="line">i键开始编辑，想要移动光标，必须先用esc退出编辑模式。</span><br><span class="line">l：右移  h：左移 k：上移 j：下移</span><br><span class="line"></span><br><span class="line">查看文件内容：cat fileName</span><br><span class="line">cat -b fileName 显示行号</span><br><span class="line"></span><br><span class="line">统计单词数目：wc fileName</span><br><span class="line">每一列的含义如下：</span><br><span class="line">第一列：文件的总行数</span><br><span class="line">第二列：单词数目</span><br><span class="line">第三列：文件的字节数，即文件的大小</span><br><span class="line">第四列：文件名</span><br><span class="line"></span><br><span class="line">复制文件：cp source_file destination_file</span><br><span class="line"></span><br><span class="line">重命名文件：mv old_file new_file</span><br><span class="line"></span><br><span class="line">删除文件：rm fileName</span><br></pre></td></tr></table></figure></p>
<p>###二 :Linux目录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br></pre></td><td class="code"><pre><span class="line">1. cd 用来切换工作目录 </span><br><span class="line">cd ~ 进入用户主目录；</span><br><span class="line">cd - 返回进入此目录之前所在的目录；</span><br><span class="line">cd .. 返回上级目录（若当前目录为“/“，则执行完后还在“/&quot;；&quot;..&quot;为上级目录的意思）； </span><br><span class="line">cd ../.. 返回上两级目录； </span><br><span class="line">cd !$ 把上个命令的参数作为cd参数使用。</span><br><span class="line"></span><br><span class="line">2. cp 用来将一个或多个源文件或者目录复制到指定的目的文件或目录</span><br><span class="line">-a：此参数的效果和同时指定&quot;-dpR&quot;参数相同； </span><br><span class="line">-d：当复制符号连接时，把目标文件或目录也建立为符号连接，并指向与源文件或目录连接的原始文件或目录； </span><br><span class="line">-f：强行复制文件或目录，不论目标文件或目录是否已存在； </span><br><span class="line">-i：覆盖既有文件之前先询问用户； </span><br><span class="line">-l：对源文件建立硬连接，而非复制文件； </span><br><span class="line">-p：保留源文件或目录的属性； </span><br><span class="line">-R/r：递归处理，将指定目录下的所有文件与子目录一并处理； </span><br><span class="line">-s：对源文件建立符号连接，而非复制文件； </span><br><span class="line">-u：使用这项参数后只会在源文件的更改时间较目标文件更新时或是名称相互对应的目标文件并不存在时，才复制文件； </span><br><span class="line">-S：在备份文件时，用指定的后缀“SUFFIX”代替文件的默认后缀； </span><br><span class="line">-b：覆盖已存在的文件目标前将目标文件备份； </span><br><span class="line">-v：详细显示命令执行的操作。</span><br><span class="line"></span><br><span class="line">3. mv 用来对文件或目录重新命名，或者将文件从一个目录移到另一个目录中</span><br><span class="line">--backup=&lt;备份模式&gt;：若需覆盖文件，则覆盖前先行备份； </span><br><span class="line">-b：当文件存在时，覆盖前，为其创建一个备份； </span><br><span class="line">-f：若目标文件或目录与现有的文件或目录重复，则直接覆盖现有的文件或目录； </span><br><span class="line">-i：交互式操作，覆盖前先行询问用户，如果源文件与目标文件或目标目录中的文件同名，则询问用户是否覆盖目标文件。用户输入”y”，表示将覆盖目标文件；输入”n”，表示取消对源文件的移动。这样可以避免误将文件覆盖。 </span><br><span class="line">--strip-trailing-slashes：删除源文件中的斜杠“/”； </span><br><span class="line">-S&lt;后缀&gt;：为备份文件指定后缀，而不使用默认的后缀； </span><br><span class="line">--target-directory=&lt;目录&gt;：指定源文件要移动到目标目录； </span><br><span class="line">-u：当源文件比目标文件新或者目标文件不存在时，才执行移动操作。</span><br><span class="line"></span><br><span class="line">4. ls 用来显示目标列表</span><br><span class="line">-a：显示所有档案及目录（ls内定将档案名或目录名称为“.”的视为影藏，不会列出）； </span><br><span class="line">-A：显示除影藏文件“.”和“..”以外的所有文件列表； </span><br><span class="line">-C：多列显示输出结果。这是默认选项； </span><br><span class="line">-l：与“-C”选项功能相反，所有输出信息用单列格式输出，不输出为多列； </span><br><span class="line">-F：在每个输出项后追加文件的类型标识符，具体含义：“星”表示具有可执行权限的普通文件，“/”表示目录，“@”表示符号链接，“|”表示命令管道FIFO，“=”表示sockets套接字。当文件为普通文件时，不输出任何标识符； </span><br><span class="line">-b：将文件中的不可输出的字符以反斜线“”加字符编码的方式输出； </span><br><span class="line">-c：与“-lt”选项连用时，按照文件状态时间排序输出目录内容，排序的依据是文件的索引节点中的ctime字段。与“-l”选项连用时，则排序的一句是文件的状态改变时间； </span><br><span class="line">-d：仅显示目录名，而不显示目录下的内容列表。显示符号链接文件本身，而不显示其所指向的目录列表； </span><br><span class="line">-f：此参数的效果和同时指定“aU”参数相同，并关闭“lst”参数的效果； </span><br><span class="line">-i：显示文件索引节点号（inode）。一个索引节点代表一个文件； </span><br><span class="line">--file-type：与“-F”选项的功能相同，但是不显示“*”； </span><br><span class="line">-k：以KB（千字节）为单位显示文件大小； </span><br><span class="line">-l：以长格式显示目录下的内容列表。输出的信息从左到右依次包括文件名，文件类型、权限模式、硬连接数、所有者、组、文件大小和文件的最后修改时间等； </span><br><span class="line">-m：用“,”号区隔每个文件和目录的名称； </span><br><span class="line">-n：以用户识别码和群组识别码替代其名称；</span><br><span class="line">-r：以文件名反序排列并输出目录内容列表； </span><br><span class="line">-s：显示文件和目录的大小，以区块为单位； </span><br><span class="line">-t：用文件和目录的更改时间排序； </span><br><span class="line">-L：如果遇到性质为符号链接的文件或目录，直接列出该链接所指向的原始文件或目录； </span><br><span class="line">-R：递归处理，将指定目录下的所有文件及子目录一并处理； </span><br><span class="line">--full-time：列出完整的日期与时间； </span><br><span class="line">--color[=WHEN]：使用不同的颜色高亮显示不同类型的</span><br><span class="line"></span><br><span class="line">5. pwd 以绝对路径的方式显示用户当前工作目录</span><br><span class="line"></span><br><span class="line">6. rm 可以删除一个目录中的一个或多个文件或目录，也可以将某个目录及其下属的所有文件及其子目录均删除掉，因为一旦删除了一个文件，就无法再恢复它。</span><br><span class="line">-d：直接把欲删除的目录的硬连接数据删除成0，删除该目录； </span><br><span class="line">-f：强制删除文件或目录； </span><br><span class="line">-i：删除已有文件或目录之前先询问用户； </span><br><span class="line">-r或-R：递归处理，将指定目录下的所有文件与子目录一并处理； </span><br><span class="line">--preserve-root：不对根目录进行递归操作； </span><br><span class="line">-v：显示指令的详细执行过程。</span><br><span class="line"></span><br><span class="line">7. mkdir 用来创建目录</span><br><span class="line">-Z：设置安全上下文，当使用SELinux时有效； </span><br><span class="line">-m&lt;目标属性&gt;或--mode&lt;目标属性&gt;建立目录的同时设置目录的权限； </span><br><span class="line">-p或--parents 若所要建立目录的上层目录目前尚未建立，则会一并建立上层目录； </span><br><span class="line">--version 显示版本信息</span><br><span class="line"></span><br><span class="line">8. rmdir 用来删除空目录</span><br><span class="line">-p或--parents：删除指定目录后，若该目录的上层目录已变成空目录，则将其一并删除； </span><br><span class="line">--ignore-fail-on-non-empty：此选项使rmdir命令忽略由于删除非空目录时导致的错误信息； </span><br><span class="line">-v或-verboes：显示命令的详细执行过程； </span><br><span class="line">--help：显示命令的帮助信息； </span><br><span class="line">--version：显示命令的版本信息。</span><br><span class="line"></span><br><span class="line">9. dirs 显示当前目录栈中的所有记录</span><br><span class="line">-c：删除目录栈中的所有记录 </span><br><span class="line">-l：以完整格式显示 </span><br><span class="line">-p：一个目录一行的方式显示 </span><br><span class="line">-v：每行一个目录来显示目录栈的内容，每个目录前加上的编号 </span><br><span class="line">+N：显示从左到右的第n个目录，数字从0开始 </span><br><span class="line">-N：显示从右到左的第n个日录，数字从0开始</span><br><span class="line"></span><br><span class="line">10. cat 连接文件并打印到标准输出设备上</span><br><span class="line">-n或-number：有1开始对所有输出的行数编号； </span><br><span class="line">-b或--number-nonblank：和-n相似，只不过对于空白行不编号； </span><br><span class="line">-s或--squeeze-blank：当遇到有连续两行以上的空白行，就代换为一行的空白行； </span><br><span class="line">-A：显示不可打印字符，行尾显示“$”； </span><br><span class="line">-e：等价于&quot;-vE&quot;选项； -t：等价于&quot;-vT&quot;选项；</span><br><span class="line"></span><br><span class="line">实例</span><br><span class="line">cat m1 （在屏幕上显示文件ml的内容） </span><br><span class="line">cat m1 m2 （同时显示文件ml和m2的内容） </span><br><span class="line">cat m1 m2 &gt; file （将文件ml和m2合并后放入文件file中）</span><br><span class="line"></span><br><span class="line">11. touch  一是用于把已存在文件的时间标签更新为系统当前的时间（默认方式），它们的数据将原封不动地保留下来；二是用来创建新的空文件</span><br><span class="line"></span><br><span class="line">-a：或--time=atime或--time=access或--time=use 只更改存取时间； </span><br><span class="line">-c：或--no-create 不建立任何文件； </span><br><span class="line">-d：&lt;时间日期&gt; 使用指定的日期时间，而非现在的时间； </span><br><span class="line">-f：此参数将忽略不予处理，仅负责解决BSD版本touch指令的兼容性问题； </span><br><span class="line">-m：或--time=mtime或--time=modify 只更该变动时间； </span><br><span class="line">-r：&lt;参考文件或目录&gt; 把指定文件或目录的日期时间，统统设成和参考文件或目录的日期时间相同； </span><br><span class="line">-t：&lt;日期时间&gt; 使用指定的日期时间，而非现在的时间； </span><br><span class="line">--help：在线帮助； </span><br><span class="line">--version：显示版本信息。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">绝对路径和相对路径：</span><br><span class="line">一个路径以/开头的路径为绝对路径，它表示当前文件与根目录的关系</span><br><span class="line">一个路径不以/开头的为相对路径，它表示文件与当前目录的关系。</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">创建目录：mkdir dirname</span><br><span class="line">mkdir -p /tmp/amrood/test 一级一级创建所需要的目录，即使上级目录不存在。</span><br><span class="line"></span><br><span class="line">删除目录：rmdir dirname （删除时要确保目录为空，不包含其他文件和目录）</span><br><span class="line">		rm -rf dirname (删除文件夹,里面可以包含文件)</span><br><span class="line">点号：. 一个点表示当前目录，二个点表示上级目录</span><br></pre></td></tr></table></figure>
<p>###三 ：文件权限和访问模式</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">每个文件都有三种权限：</span><br><span class="line">1.所有者权限：文件所有者能够进行的操作。</span><br><span class="line">2.组权限：文件所属用户能够进行的操作。</span><br><span class="line">3.外部权限：其他用户可以进行的操作。</span><br><span class="line"></span><br><span class="line">改变文件的权限：chmod  xxx fileName</span><br><span class="line"></span><br><span class="line">数字	说明	权限</span><br><span class="line">0	没有任何权限	---</span><br><span class="line">1	执行权限	--x</span><br><span class="line">2	写入权限	-w-</span><br><span class="line">3	执行权限和写入权限：1 (执行) + 2 (写入) = 3	-wx</span><br><span class="line">4	读取权限	r--</span><br><span class="line">5	读取和执行权限：4 (读取) + 1 (执行) = 5	r-x</span><br><span class="line">6	读取和写入权限：4 (读取) + 2 (写入) = 6	rw-</span><br><span class="line">7	所有权限: 4 (读取) + 2 (写入) + 1 (执行) = 7	rwx</span><br><span class="line"></span><br><span class="line">更改所有者和用户组：</span><br><span class="line">chown：命令 change owner 的缩写，改变文件的所有者。</span><br><span class="line">chgrp：命令 change group 的缩写，改变文件所在的群组。</span><br></pre></td></tr></table></figure>
<h3 id="四-：文件传输"><a href="#四-：文件传输" class="headerlink" title="四 ：文件传输"></a>四 ：文件传输</h3><p>####1. ftp 命令用来设置文件系统相关功能</p>
<pre><code>-d：详细显示指令执行过程，便于排错或分析程序执行的情况； 
-i：关闭互动模式，不询问任何问题； 
-g：关闭本地主机文件名称支持特殊字符的扩充特性； 
-n：不使用自动登录； 
-v：显示指令执行过程。
</code></pre><p>####2. scp</p>
<pre><code>-1：使用ssh协议版本1； 
-2：使用ssh协议版本2； 
-4：使用ipv4； 
-6：使用ipv6； 
-B：以批处理模式运行； 
-C：使用压缩； 
-F：指定ssh配置文件； 
-l：指定宽带限制； 
-o：指定使用的ssh选项； 
-P：指定远程主机的端口号； 
-p：保留文件的最后修改时间，最后访问时间和权限模式； 
-q：不显示复制进度； 
-r：以递归方式复制。
</code></pre><p>eg：</p>
<pre><code>scp[参数]&lt;源地址(用户名@ip地址或主机名)&gt;：&lt;文件路径&gt; &lt;目标地址(用户名@ip地址或主机名)&gt;：&lt;文件路径&gt;

(1) 上传文件到服务器
scp 本地文件目录 root@www.xxxx.xx:/目标路径

(2) copy文件到本地
scp root@www.xxx.xx:/root/test/one.txt /Users/wushenchao/desktop

(3) -r -v
scp -r root@www.xxx.xx:/root/test/one.txt /Users/wushenchao/desktop (拷贝文件夹-r)
scp -r -v root@www.xxx.xx:/root/test/one.txt /Users/wushenchao/desktop (拷贝文件夹-r,显示详情 －v)
</code></pre><p>####3.ncftp</p>
<pre><code>命令是增强的的ftp工具，比传统的FTP指令更加强大。FTP让用户得以下载存放于服务器主机的文件，也能将文件上传到远端主机放置。ncftp是文字模式FTP程序的佼佼者，它具备多样特色，包括显示传输速率，下载进度，自动续传，标住书签，可通过防火墙和代理服务器等
</code></pre><p>5.rcp</p>
<h3 id="五-：文件的压缩与解压"><a href="#五-：文件的压缩与解压" class="headerlink" title="五 ：文件的压缩与解压"></a>五 ：文件的压缩与解压</h3><p>####1. zip 用来解压缩文件，或者对文件进行打包操作</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">A：调整可执行的自动解压缩文件； </span><br><span class="line">-b&lt;工作目录&gt;：指定暂时存放文件的目录； </span><br><span class="line">-c：替每个被压缩的文件加上注释； </span><br><span class="line">-d：从压缩文件内删除指定的文件； </span><br><span class="line">-D：压缩文件内不建立目录名称； </span><br><span class="line">-f：此参数的效果和指定“-u”参数类似，但不仅更新既有文件，如果某些文件原本不存在于压缩文件内，使用本参数会一并将其加入压缩文件中； </span><br><span class="line">-F：尝试修复已损坏的压缩文件； </span><br><span class="line">-g：将文件压缩后附加在已有的压缩文件之后，而非另行建立新的压缩文件； </span><br><span class="line">-h：在线帮助； </span><br><span class="line">-i&lt;范本样式&gt;：只压缩符合条件的文件； </span><br><span class="line">-j：只保存文件名称及其内容，而不存放任何目录名称； </span><br><span class="line">-J：删除压缩文件前面不必要的数据； </span><br><span class="line">-k：使用MS-DOS兼容格式的文件名称； </span><br><span class="line">-l：压缩文件时，把LF字符置换成LF+CR字符； </span><br><span class="line">-ll：压缩文件时，把LF+cp字符置换成LF字符； </span><br><span class="line">-L：显示版权信息； </span><br><span class="line">-m：将文件压缩并加入压缩文件后，删除原始文件，即把文件移到压缩文件中； </span><br><span class="line">-n&lt;字尾字符串&gt;：不压缩具有特定字尾字符串的文件； </span><br><span class="line">-o：以压缩文件内拥有最新更改时间的文件为准，将压缩文件的更改时间设成和该文件相同； </span><br><span class="line">-q：不显示指令执行过程； </span><br><span class="line">-r：递归处理，将指定目录下的所有文件和子目录一并处理； </span><br><span class="line">-S：包含系统和隐藏文件； </span><br><span class="line">-t&lt;日期时间&gt;：把压缩文件的日期设成指定的日期； </span><br><span class="line">-T：检查备份文件内的每个文件是否正确无误； </span><br><span class="line">-u：更换较新的文件到压缩文件内； </span><br><span class="line">-v：显示指令执行过程或显示版本信息； </span><br><span class="line">-V：保存VMS操作系统的文件属性； </span><br><span class="line">-w：在文件名称里假如版本编号，本参数仅在VMS操作系统下有效； </span><br><span class="line">-x&lt;范本样式&gt;：压缩时排除符合条件的文件； </span><br><span class="line">-X：不保存额外的文件属性； </span><br><span class="line">-y：直接保存符号连接，而非该链接所指向的文件，本参数仅在UNIX之类的系统下有效； </span><br><span class="line">-z：替压缩文件加上注释； </span><br><span class="line">-$：保存第一个被压缩文件所在磁盘的卷册名称； </span><br><span class="line">-&lt;压缩效率&gt;：压缩效率是一个介于1~9的数值。</span><br></pre></td></tr></table></figure>
<p>####2. gzip 压缩文件。gzip是个使用广泛的压缩程序，文件经它压缩过后</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">-a或——ascii：使用ASCII文字模式； </span><br><span class="line">-d或--decompress或----uncompress：解开压缩文件； </span><br><span class="line">-f或——force：强行压缩文件。不理会文件名称或硬连接是否存在以及该文件是否为符号连接； </span><br><span class="line">-h或——help：在线帮助； </span><br><span class="line">-l或——list：列出压缩文件的相关信息； </span><br><span class="line">-L或——license：显示版本与版权信息； </span><br><span class="line">-n或--no-name：压缩文件时，不保存原来的文件名称及时间戳记； </span><br><span class="line">-N或——name：压缩文件时，保存原来的文件名称及时间戳记； </span><br><span class="line">-q或——quiet：不显示警告信息； </span><br><span class="line">-r或——recursive：递归处理，将指定目录下的所有文件及子目录一并处理； </span><br><span class="line">-S或&lt;压缩字尾字符串&gt;或----suffix&lt;压缩字尾字符串&gt;：更改压缩字尾字符串； </span><br><span class="line">-t或——test：测试压缩文件是否正确无误； </span><br><span class="line">-v或——verbose：显示指令执行过程； </span><br><span class="line">-V或——version：显示版本信息； </span><br><span class="line">-&lt;压缩效率&gt;：压缩效率是一个介于1~9的数值，预设值为“6”，指定愈大的数值，压缩效率就会愈高；</span><br><span class="line">--best：此参数的效果和指定“-9”参数相同； </span><br><span class="line">--fast：此参数的效果和指定“-1”参数相同。</span><br></pre></td></tr></table></figure>
<p>####3. unzip 用于解压缩由zip命令压缩的“.zip”压缩包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">-c：将解压缩的结果显示到屏幕上，并对字符做适当的转换； </span><br><span class="line">-f：更新现有的文件； </span><br><span class="line">-l：显示压缩文件内所包含的文件； </span><br><span class="line">-p：与-c参数类似，会将解压缩的结果显示到屏幕上，但不会执行任何的转换； </span><br><span class="line">-t：检查压缩文件是否正确； </span><br><span class="line">-u：与-f参数类似，但是除了更新现有的文件外，也会将压缩文件中的其他文件解压缩到目录中； </span><br><span class="line">-v：执行时显示详细的信息； </span><br><span class="line">-z：仅显示压缩文件的备注文字； </span><br><span class="line">-a：对文本文件进行必要的字符转换； </span><br><span class="line">-b：不要对文本文件进行字符转换； </span><br><span class="line">-C：压缩文件中的文件名称区分大小写； </span><br><span class="line">-j：不处理压缩文件中原有的目录路径； </span><br><span class="line">-L：将压缩文件中的全部文件名改为小写； </span><br><span class="line">-M：将输出结果送到more程序处理； </span><br><span class="line">-n：解压缩时不要覆盖原有的文件； </span><br><span class="line">-o：不必先询问用户，unzip执行后覆盖原有的文件； </span><br><span class="line">-P&lt;密码&gt;：使用zip的密码选项； </span><br><span class="line">-q：执行时不显示任何信息； </span><br><span class="line">-s：将文件名中的空白字符转换为底线字符； </span><br><span class="line">-V：保留VMS的文件版本信息； </span><br><span class="line">-X：解压缩时同时回存文件原来的UID/GID； </span><br><span class="line">-d&lt;目录&gt;：指定文件解压缩后所要存储的目录； </span><br><span class="line">-x&lt;文件&gt;：指定不要处理.zip压缩文件中的哪些文件； </span><br><span class="line">-Z：unzip-Z等于执行zipinfo指令。</span><br></pre></td></tr></table></figure>
<p>####4. gunzip命令 用来解压缩文件。gunzip是个使用广泛的解压缩程序，它用于解开被gzip压缩过的文件，这些压缩文件预设最后的扩展名为.gz。事实上gunzip就是gzip的硬连接，因此不论是压缩或解压缩，都可通过gzip指令单独完成</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">-a或——ascii：使用ASCII文字模式； </span><br><span class="line">-c或--stdout或--to-stdout：把解压后的文件输出到标准输出设备； </span><br><span class="line">-f或-force：强行解开压缩文件，不理会文件名称或硬连接是否存在以及该文件是否为符号连接； </span><br><span class="line">-h或——help：在线帮助； </span><br><span class="line">-l或——list：列出压缩文件的相关信息； </span><br><span class="line">-L或——license：显示版本与版权信息； </span><br><span class="line">-n或--no-name：解压缩时，若压缩文件内含有原来的文件名称及时间戳记，则将其忽略不予处理； </span><br><span class="line">-N或——name：解压缩时，若压缩文件内含有原来的文件名称及时间戳记，则将其回存到解开的文件上； </span><br><span class="line">-q或——quiet：不显示警告信息； </span><br><span class="line">-r或——recursive：递归处理，将指定目录下的所有文件及子目录一并处理； </span><br><span class="line">-S或&lt;压缩字尾字符串&gt;或----suffix&lt;压缩字尾字符串&gt;：更改压缩字尾字符串； </span><br><span class="line">-t或——test：测试压缩文件是否正确无误； </span><br><span class="line">-v或——verbose：显示指令执行过程； </span><br><span class="line">-V或——version：显示版本信息；</span><br></pre></td></tr></table></figure>
<p>####5. zcat 命令 用于不真正解压缩文件，就能显示压缩包中文件的内容的场合。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-S：指定gzip格式的压缩包的后缀。当后缀不是标准压缩包后缀时使用此选项； </span><br><span class="line">-c：将文件内容写到标注输出； </span><br><span class="line">-d：执行解压缩操作； </span><br><span class="line">-l：显示压缩包中文件的列表； </span><br><span class="line">-L：显示软件许可信息； </span><br><span class="line">-q：禁用警告信息； </span><br><span class="line">-r：在目录上执行递归操作； </span><br><span class="line">-t：测试压缩文件的完整性； </span><br><span class="line">-V：显示指令的版本信息； </span><br><span class="line">-l：更快的压缩速度； </span><br><span class="line">-9：更高的压缩比</span><br></pre></td></tr></table></figure>
<p>####6. zipsplit 用于将较大的“zip”压缩包分割成各个较小的“zip”压缩包</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-n：指定分割后每个zip文件的大小； </span><br><span class="line">-t：报告将要产生的较小的zip文件的大小； </span><br><span class="line">-b：指定分割后的zip文件的存放位置。</span><br></pre></td></tr></table></figure>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/08/20/15-node学习/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知是哪个号">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/08/20/15-node学习/" itemprop="url">15-node 学习</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-08-20T00:00:00+08:00">
                2017-08-20
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2017/08/20/15-node学习/" class="leancloud_visitors" data-flag-title="15-node 学习">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###1. node 基础<br>（1）node定义：JS是脚本语言，脚本语言都需要一个解析器才能运行。对于写在HTML页面里的JS，浏览器充当了解析器的角色。而对于需要独立运行的JS，NodeJS就是一个解析器。</p>
<p>每一种解析器都是一个运行环境，不但允许JS定义各种数据结构，进行各种计算，还允许JS使用运行环境提供的内置对象和方法做一些事情。例如运行在浏览器中的JS的用途是操作DOM，浏览器就提供了document之类的内置对象。而运行在NodeJS中的JS的用途是操作磁盘文件或搭建HTTP服务器，NodeJS就相应提供了fs、http等内置对象<br><br><br><br><br>（2）模块<br>编写稍大一点的程序时一般都会将代码模块化。在NodeJS中，一般将代码合理拆分到不同的JS文件中，每一个文件就是一个模块，而文件路径就是模块名。</p>
<p>在编写每个模块时，都有require、exports、module三个预先定义好的变量可供使用</p>
<p>（i）require函数用于在当前模块中加载和使用别的模块，传入一个模块名，返回一个模块导出对象。模块名可使用相对路径（以./开头），或者是绝对路径（以/或C:之类的盘符开头）。另外，模块名中的.js扩展名可以省略。</p>
<p>（ii）exports对象是当前模块的导出对象，用于导出模块公有方法和属性。别的模块通过require函数使用当前模块时得到的就是当前模块的exports对象。</p>
<p>（iii）通过module对象可以访问到当前模块的一些相关信息，但最多的用途是替换当前模块的导出对象。例如模块导出对象默认是一个普通对象，如果想改成一个函数的话，<br><br><br><br><br>（3）模块初始化<br><br>一个模块中的JS代码仅在模块第一次被使用时执行一次，并在执行过程中初始化模块的导出对象。之后，缓存起来的导出对象被重复利用。</p>
<p>###2 node 安装<br>（1）nvm 管理node版本<br>安装方法：</p>
<pre><code>1. git clone https://github.com/creationix/nvm.git

2. 配置终端启动自动执行 source ~/git/nvm/nvm.sh （在 ~/.bashrc, ~/.bash_profile, ~/.profile, 或者 ~/.zshrc 中添加上述命令）重新启动终端。

3.安装任意版本 nvm install xxx

4.使用任意版本 nvm use xxx

5.查看所有node版本     nvm ls

6.安装最新稳定版本 nvm install stable

7.使用最新稳定版本  nvm use stable

8.安装最新版本  nvm install unstable

9.使用最新版本 nvm run unstable --version

10.使用系统版本 nvm use system

11.设置默认版本 nvm alias default vxxx

12.删除指定版本 nvm uninstall v6.6.0
</code></pre><p>(2) 快速生成 package.json<br>    命令 npm init</p>
<p>(3) 安装依赖<br>    npm install –save PACKAGE_NAME<br>    npm install –savr-dev PACKAGE_NAME<br>    npm install –save PACKAGE_NAMR -g (全局安装exp：mocha)</p>
<p>(4) koa 运行命令为 node –harmony xxx.js</p>
<p>(5) error: describe is not defined 需要安装 mocha 运行命令 mocha app</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/06/15/14.iOS9.0~9.3App Store下载奔溃/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知是哪个号">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/06/15/14.iOS9.0~9.3App Store下载奔溃/" itemprop="url">14.关于iOS9.0~9.3 App Store下载奔溃问题</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-06-15T00:00:00+08:00">
                2017-06-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2017/06/15/14.iOS9.0~9.3App Store下载奔溃/" class="leancloud_visitors" data-flag-title="14.关于iOS9.0~9.3 App Store下载奔溃问题">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>参考链接：<a href="https://stackoverflow.com/questions/39404285/xcode-8-build-crash-on-ios-9-2-and-below" target="_blank" rel="noopener">https://stackoverflow.com/questions/39404285/xcode-8-build-crash-on-ios-9-2-and-below</a></p>
<p>##问题出现前提:</p>
<p>1.使用Xcode8打包</p>
<p>2.运行系统iOS9.0～9.3</p>
<p>3.图片添加在Assets资源下</p>
<h2 id="问题描述"><a href="#问题描述" class="headerlink" title="问题描述"></a>问题描述</h2><p>版本上线后使用同事的iOS9.1系统的6sp手机运行闪退,而这个手机在使用真机直接运行安装、扫描二维码安装ipa包,都是没有问题的。</p>
<p>去友盟错误列表反馈报以下错误提示:</p>
<pre><code>Application received signal SIGTRAP
</code></pre><p>最终定位到了P3资源文件的问题上了,图片资源文件里有16位图,显示模式为P3</p>
<p>##原理: </p>
<p>如果你的app需要支持广色域显示的话，那你必须得把target设置成iOS 9.3+，相反，如果你的app不需要支持广色域且你想兼容 iOS 9.3 之前的项目，你就得把资源文件所有的16位的或者显示模式为’P3’图片全都替换成8位模式的SRGB颜色的图片</p>
<p>####1.查找16位模式的SRGB颜色的图片步骤:</p>
<pre><code>1.打一个ipa包,将该文件后缀名.ipa为.zip

2.解压该.zip文件,解压后的目录里面会有一个Payload文件夹

3.打开终端切换到Payload文件下的.app路径

    cd ~/路径/appname.app

4.用find命名定位到Asset.car文件

    find . -name &apos;Assets.car&apos;

5.使用 assetutil 命令导出图片的信息存储到Assets.json文件中


    sudo xcrun --sdk iphoneos assetutil --info ./Assets.car &gt; /tmp/Assets.json

6.使用以下命令 打开上步生成的/tmp/Assets.json

    open /tmp/Assets.json
查找“DisplayGamut&quot;: “P3”,
看到&quot;Encoding&quot; : &quot;ARGB-16&quot;,这个就是要被替换的图片

{ 
    &quot;SizeClass Vertical&quot; : &quot;universal&quot;,
    &quot;Graphics&quot; : &quot;GLES2,0&quot;, &quot;Name&quot; : &quot;ianisme.com&quot;, 
    &quot;Scale&quot; : 2, &quot;Idiom&quot; : &quot;universal&quot;, 
    &quot;Memory&quot; : &quot;512MB&quot;, 
    &quot;LayoutDirection&quot; : &quot;0 - Horizontal&quot;, 
    &quot;DisplayGamut&quot; : &quot;P3&quot;,
    &quot;Encoding&quot; : &quot;ARGB-16&quot;,
    &quot;SizeClass Horizontal&quot; : &quot;universal&quot;,
    &quot;Image Type&quot; : &quot;kCoreThemeOnePartScale&quot;, 
    &quot;AssetType&quot; : &quot;Image&quot;, 
    &quot;Subtype&quot; : 0, 
    &quot;EdgeInsets&quot; : &quot;top:0 left:0 bottom:0 right:0&quot;
},
</code></pre><h4 id="解决问题"><a href="#解决问题" class="headerlink" title="解决问题"></a>解决问题</h4><p>#####1修改图片:</p>
<pre><code>使用ColorSync实用工具将这个描述文件修改下
</code></pre><p><img src="http://ww1.sinaimg.cn/large/8af26a6dly1fxvzn1k303j20s60lm0yz.jpg" alt><br>    指派它的描述文件为sRGB IEC61966-2.1，保存.</p>
<p><img src="http://ww1.sinaimg.cn/large/8af26a6dly1fxvzn1buhvj212802e756.jpg" alt></p>
<p><img src="http://ww1.sinaimg.cn/large/8af26a6dly1fxvzn1a7pzj20fe050gm6.jpg" alt></p>
<pre><code>至此我们的问题完美解决。
</code></pre><p>#####2改变图片位置</p>
<p>将问题图片从Assets移除，直接添加到工程中使用</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2017/03/27/13-MySql安装及命令的副本/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知是哪个号">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2017/03/27/13-MySql安装及命令的副本/" itemprop="url">13-HomeBrew 安装MySql</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2017-03-27T00:00:00+08:00">
                2017-03-27
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2017/03/27/13-MySql安装及命令的副本/" class="leancloud_visitors" data-flag-title="13-HomeBrew 安装MySql">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="安装过程中出现的error"><a href="#安装过程中出现的error" class="headerlink" title="安装过程中出现的error"></a>安装过程中出现的error</h2><p><em>Error: Can’t connect to local MySQL server through socket ‘/tmp/mysql.sock’ (2)</em></p>
<h3 id="wang-执行的顺序不能错"><a href="#wang-执行的顺序不能错" class="headerlink" title="wang: 执行的顺序不能错"></a>wang: 执行的顺序不能错</h3><p>否则会出现上述错误</p>
<pre><code>1. 打开终端执行命令 $ brew install mysql

2. 执行命令 $ mysql.server start 此时提示 
        Starting MySQL
                 SUCCESS! 

3. 执行命令 $ mysql_secure_installation 按要求进行设置 y y y y

4. 连接 mysql 命令： mysql -uroot -p (连接到本地数据库)
</code></pre><h3 id="MySql-常用命令-（命令末位加上-）"><a href="#MySql-常用命令-（命令末位加上-）" class="headerlink" title="MySql 常用命令  （命令末位加上 ; ）"></a>MySql 常用命令  （命令末位加上 ; ）</h3><p>乱码修改MYSQL的配置文件：my.ini里面修改default-character-set=gbk</p>
<h2 id="1-连接数据库"><a href="#1-连接数据库" class="headerlink" title="1.连接数据库"></a>1.连接数据库</h2><pre><code>1.连接到本地数据库：    mysql -uroot -p
2.连接到远程主机： mysql -h ip -u root -p 123
</code></pre><h5 id="2-退出命令"><a href="#2-退出命令" class="headerlink" title="2.退出命令"></a>2.退出命令</h5><pre><code>\q 或者执行 exit ，quit 之后回车
</code></pre><h5 id="3-修改用户密码"><a href="#3-修改用户密码" class="headerlink" title="3.修改用户密码"></a>3.修改用户密码</h5><pre><code>mysqladmin -u root -p 旧密码 password 新密码
</code></pre><h5 id="4-新增用户"><a href="#4-新增用户" class="headerlink" title="4.新增用户"></a>4.新增用户</h5><pre><code>grant on 命令用于增加新用户并控制权限
grant on 命令格式: 
    grant select on 数据库.* to 用户名@登录主机 identified by &quot;密码&quot;;

1)增加一个用户test1，密码abc，让他可以在任何主机上登录，并对所有数据库查询、插入、修改、删除的权限。
grant select,insert,update,delete on *.* to [email=test1@”%]test1@”%[/email]” Identified by “abc”;

2)增加一个用户test2密码为abc，让他只可以在localhost上登录，并可以对数据库mydb进行查询、插入、修改、删除的操作
grant select,insert,update,delete on mydb.* to [email=test2@localhost]test2@localhost[/email] identified by “abc”;
</code></pre><h5 id="4-创建数据库-并分配用户"><a href="#4-创建数据库-并分配用户" class="headerlink" title="4.创建数据库 并分配用户"></a>4.创建数据库 并分配用户</h5><pre><code>create database &lt;数据库名&gt;;
分配用户：grant select,insert,update,delete,create,drop,alter on test.* to test@locallhost identified by &apos;1234abcd&apos;;
</code></pre><h5 id="5-显示数据库"><a href="#5-显示数据库" class="headerlink" title="5.显示数据库"></a>5.显示数据库</h5><pre><code>show databases;
</code></pre><h5 id="6-删除数据库"><a href="#6-删除数据库" class="headerlink" title="6.删除数据库"></a>6.删除数据库</h5><pre><code>drop database &lt;数据库名&gt;;
</code></pre><h5 id="7-使用数据库"><a href="#7-使用数据库" class="headerlink" title="7.使用数据库"></a>7.使用数据库</h5><pre><code>use &lt;数据库名&gt;;
显示当前数据库中的表 show tables;
</code></pre><h5 id="8-当前连接的数据库"><a href="#8-当前连接的数据库" class="headerlink" title="8.当前连接的数据库"></a>8.当前连接的数据库</h5><pre><code>select database();

select version();             // 显示版本
select now();                  // 显示时间
select dayofmonth(current_date); 
select month(current_date);
select year(current_date);
</code></pre><h5 id="9-创建数据表"><a href="#9-创建数据表" class="headerlink" title="9.创建数据表"></a>9.创建数据表</h5><pre><code>create table &lt;表名&gt; (&lt;字段名1&gt; &lt;类型1&gt; [,..&lt;字段名n&gt; &lt;类型n&gt;]);

ep:
 mysql&gt; create table MyClass(
      &gt; id int(4) not null primary key auto_increment,
      &gt; name char(20) not null,
      &gt; sex int(4) not null default &apos;0&apos;,
      &gt; degree double(16,2));
</code></pre><h5 id="10-获取表结构"><a href="#10-获取表结构" class="headerlink" title="10.获取表结构"></a>10.获取表结构</h5><pre><code>desc 表名;
或者： show columns from 表名;
</code></pre><h5 id="11-删除数据表"><a href="#11-删除数据表" class="headerlink" title="11.删除数据表"></a>11.删除数据表</h5><pre><code>drop table &lt;表名&gt;;
</code></pre><h5 id="12-数据的增删改查"><a href="#12-数据的增删改查" class="headerlink" title="12.数据的增删改查"></a>12.数据的增删改查</h5><pre><code>1. 增
insert into 表名 [(&lt;字段名1&gt;[,..&lt;字段名n&gt;])] values(值1)[,(值n)]；

2. 删
delete from where 表达式

3. 改
update 表名 set 字段＝新值 ... where 条件

4. 查
查所有行: select &lt;字段1，字段2&gt; from &lt;表名&gt; where &lt;表达式&gt;;
eg:
select *from &lt;表名&gt;

查询前几行：
select *from &lt;表名&gt; order by id limit 0,2;
</code></pre><h5 id="13-数据库增加字段和修改字段属性"><a href="#13-数据库增加字段和修改字段属性" class="headerlink" title="13.数据库增加字段和修改字段属性"></a>13.数据库增加字段和修改字段属性</h5><pre><code>1）增减字段
alter table 表名 add 列名 类型 其他    

例如，在表MyClass中添加了一个字段passtest，类型为int(4)，默认值为0：
   mysql&gt; alter table MyClass add passtest int(4) default &apos;0&apos;;

2）修改字段属性
alter table 表名 change 字段名称
alter table 表名称 change 原列名 新列名 字段类型 [是否允许非空];
alter table 表名称 modify 列名 字段类型 [是否允许非空]; //实际应用可行!!

3）指定列为主键
alter table 表名 add primary key(列名)

4）删除外键
</code></pre><h5 id="14-修改表名"><a href="#14-修改表名" class="headerlink" title="14.修改表名"></a>14.修改表名</h5><pre><code>rename table 原表名 to 新表名
</code></pre><h5 id="15-数据库备份"><a href="#15-数据库备份" class="headerlink" title="15.数据库备份"></a>15.数据库备份</h5><pre><code>mysqldump命令用来备份数据库;

1) 导出整个数据库(导出文件默认是存在mysql\bin目录下)
mysqldump -u 用户名 -p 数据库名 &gt; 导出的文件名
mysqldump -u user_name -p123456 database_name &gt; outfile_name.sql

2) 导出一个表
mysqldump -u 用户名 -p 数据库名 表名&gt; 导出的文件名
mysqldump -u user_name -p database_name table_name &gt; outfile_name.sql

3) 导出一个数据库结构
mysqldump -u user_name -p -d –add-drop-table database_name &gt; outfile_name.sql
-d 没有数据 –add-drop-table 在每个create语句之前增加一个drop table    
</code></pre><h5 id="16-查看表带字段的详细信息"><a href="#16-查看表带字段的详细信息" class="headerlink" title="16. 查看表带字段的详细信息"></a>16. 查看表带字段的详细信息</h5><pre><code>show full columns from 表名称 [from 数据库名]; //列出字段及详情；
show full fields from 表名称 [from 数据库名]; //列出字段完整属性
show index from 表名称 [from 数据库名]; //列出表索引
show variables; // 列出MySQL系统环境变量
</code></pre><h2 id="其他error"><a href="#其他error" class="headerlink" title="其他error"></a>其他error</h2><p>1366 - Incorrect integer value: ‘’ for column ‘ID’ at row 1 </p>
<p>在书写id 为递增的sql 语句中 我们通常使用 ‘’ 来填写id 字段的值</p>
<p>但是 在mysql 5中 根据php.ini的设置的不同 有可能出现 1366 - Incorrect integer value: ‘’ for column ‘ID’ at row 1  的错误 ，这时 ，用NULL 代替 ‘’就行了</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/10/19/12-cocoaPods 配置和升级/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知是哪个号">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/10/19/12-cocoaPods 配置和升级/" itemprop="url">12-cocoaPods配置和升级</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-10-19T00:00:00+08:00">
                2016-10-19
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/10/19/12-cocoaPods 配置和升级/" class="leancloud_visitors" data-flag-title="12-cocoaPods配置和升级">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###1.cocoaPods升级命令：</p>
<pre><code>$ sudo gem update --system // 先更新gem，国内需要切换源
$ gem sources --remove https://rubygems.org/
$ gem sources -a https://ruby.taobao.org/
$ gem sources -l
\*\*\* CURRENT SOURCES \*\*\*
https://ruby.taobao.org/
$ sudo gem install cocoapods // 安装cocoapods
$ pod setup
sudo gem uninstall cocoapods
</code></pre><p><em>10.11 系统使用下面命令</em></p>
<pre><code>sudo gem install -n /usr/local/bin cocoapods
</code></pre><p>###2.cocoaPods配置</p>
<p>首先，你得有一个pod的账号 在终端中输入pod 可以查看关于pod 的命令帮助，输入pod trunk me 可以查看自己的账号信息，如果没有的话先注册一个。输入pod trunk register然后根据提示注册一个即可，在有账号之后：</p>
<pre><code>1.cd 到工程目录下，以工程名创建一个.podspec文件 例如:
2.cd Demo ---&gt; pod spec create Demo
3.然后vi Demo.podspec 进入文件中进行配置（参考已有的）
4.git add -&gt; git commit -m “zz” -&gt; git push同步到远程端
5.再创建LICENSE文件
6然后需要创建工程的tag 
     git tag &apos;0.0.1&apos;
     git add *
     git commit -m &apos;add tag&apos;
     git push origin 0.0.1
7.pod spec lint 来检测一下是否有错误或警告(在改变了tag 之后需要将.podspec文件中的s.version和s.source 的tag 改成同样的值)
8.输入pod trunk push 发布
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/07/01/11-iOS10推送/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知是哪个号">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/07/01/11-iOS10推送/" itemprop="url">11-iOS10推送</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-07-01T00:00:00+08:00">
                2016-07-01
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/07/01/11-iOS10推送/" class="leancloud_visitors" data-flag-title="11-iOS10推送">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最新苹果刚刚发布系统10版本，其中有项重大的改变就是通知</p>
<p>iOS 9 以前的通知</p>
<pre><code>1.在调用方法时，有些方法让人很难区分，容易写错方法，这让开发者有时候很苦恼。
2.应用在运行时和非运行时捕获通知的路径还不一致。
3.应用在前台时，是无法直接显示远程通知，还需要进一步处理。
4.已经发出的通知是不能更新的，内容发出时是不能改变的，并且只有简单文本展示方式，扩展性根本不是很好。
</code></pre><p>iOS 10 开始的通知</p>
<pre><code>1.所有相关通知被统一到了UserNotifications.framework框架中。
2.增加了撤销、更新、中途还可以修改通知的内容。
3.通知不在是简单的文本了，可以加入视频、图片，自定义通知的展示等等。
4.iOS 10相对之前的通知来说更加好用易于管理，并且进行了大规模优化，对于开发者来说是一件好事。
5.iOS 10开始对于权限问题进行了优化，申请权限就比较简单了(本地与远程通知集成在一个方法中)。    
</code></pre><p>我们项目中使用的是第三方个推，最近刚好赶上项目上线，而且个推也刚刚发布一个新版本，因此在发布版本之前我们决定对通知模块的做更新。</p>
<p>一切准备就绪后，在新系统（iOS10）上测试顺利完成（公司缺少测试机），然后打包上线。过审核后的那天晚上发布了该版本包，第二天早上收到线下大量的反馈，iOS10以下系统打开就闪退，然后开始找原因：</p>
<p>####1.首先看的是友盟bug统计：<br>    里面没有日志记录，分析因为项目还没启动就闪退日志无法收集</p>
<p>####2查看xcode日志收集<br>    由于时间较短该版本并无日志上传</p>
<p>####3.分析代码改动：</p>
<pre><code>1.通知升级
2.系统适配
3.小功能添加
</code></pre><p>排除2、3模块问题很大的原因在这次通知升级上，仔细比对代码和引入的新framework最终发现问题在引入的framework中</p>
<p>在引入新包时需要将status设置成optional状态</p>
<p><img src="../images/10/10-1.png" alt="avatar"></p>
<p>###总结：在新版本改动的过程中除了细心、细心再细心的改动，还需要仔细、仔细再仔细的测试。</p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2016/03/15/10-OC&&JS/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知是哪个号">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2016/03/15/10-OC&&JS/" itemprop="url">10-OC&&JS交互</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2016-03-15T00:00:00+08:00">
                2016-03-15
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2016/03/15/10-OC&&JS/" class="leancloud_visitors" data-flag-title="10-OC&&JS交互">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###OC &amp;&amp; JS交互第三方框架:<br><a href="https://github.com/marcuswestin/WebViewJavascriptBridge" target="_blank" rel="noopener">WebViewJavascriptBridge</a></p>
<h3 id="JavaScriptCore的使用（iOS7后引用）"><a href="#JavaScriptCore的使用（iOS7后引用）" class="headerlink" title="JavaScriptCore的使用（iOS7后引用）"></a>JavaScriptCore的使用（iOS7后引用）</h3><p>JSContext：给JS提供运行的上下文环境,通过-evaluateScript:方法就可以执行JS代码</p>
<p>JSValue：JS和OC数据和方法的桥梁,封装了JS与OC中的对应的类型，以及调用JS的API等</p>
<p>JSManagedValue：管理数据和方法的类</p>
<p>JSVirtualMachine：处理线程相关，使用较少</p>
<p>JSExport：这是一个协议，如果采用协议的方法交互，自己定义的协议必须遵守此协议</p>
<p>注:</p>
<blockquote>
<p>JSContext 和 JSValue : </p>
</blockquote>
<blockquote>
<p>JSVirtualMachine 为JavaScript的运行提供了底层资源,JSContext为JS其提供着运行环境,通过evaluateScript方法就可以执行一段JavaScript脚本,并且如果其中有方法,变量等信息都会被存储在其中以便在需要的时候使用。而JSContext的创建都是基于JSVirtualMachine(initwithVirtualMachine:),如果使用init进行初始化,那么在其内部会自动创建一个新的JSVirtualMachine对象然后调用前边的初始化方法。</p>
</blockquote>
<blockquote>
<p>JSValue是JSContext执行后的返回结果,封装了JS与OC中的对应的类型,可以方便的在两种类型之间转换,可以说是JS和OC之间互换的桥梁</p>
</blockquote>
<pre><code>Objective-C type  |   JavaScript type
</code></pre><p>   ——————–+———————<br>           nil         |     undefined<br>          NSNull       |        null<br>         NSString      |       string<br>         NSNumber      |   number, boolean<br>       NSDictionary    |   Object object<br>         NSArray       |    Array object<br>          NSDate       |     Date object<br>         NSBlock (1)   |   Function object (1)<br>            id (2)     |   Wrapper object (2)<br>          Class (3)    | Constructor object (3)</p>
<blockquote>
<p>JSVirtualMachine : “A JSVirtualMachine instance represents a self-contained environment for JavaScript execution.”，这段话是官方文档中对JSVirtualMachine的定义，我们使用JSVirtualMachine的目的主要有两个：支持JS并发执行，管理用于衔接JS 与 OC 代码的对象的内存。</p>
</blockquote>
<h3 id="OC-amp-amp-JS交互"><a href="#OC-amp-amp-JS交互" class="headerlink" title="OC &amp;&amp; JS交互"></a>OC &amp;&amp; JS交互</h3><p>默认在该代理方法中执行</p>
<p><strong>- (void)webViewDidFinishLoad:(UIWebView *)webView</strong></p>
<pre><code>static NSString *const WWJavaScripeContext = @&quot;documentView.webView.mainFrame.javaScriptContext&quot;;
static NSString *const WWWebDocumentTitle = @&quot;document.title&quot;;
</code></pre><h2 id="1-OC调用JS"><a href="#1-OC调用JS" class="headerlink" title="1. OC调用JS"></a>1. OC调用JS</h2><h4 id="使用-NSString-stringByEvaluatingJavaScriptFromString-NSString-script"><a href="#使用-NSString-stringByEvaluatingJavaScriptFromString-NSString-script" class="headerlink" title="使用- (NSString )stringByEvaluatingJavaScriptFromString:(NSString )script;"></a>使用<strong>- (NSString <em>)stringByEvaluatingJavaScriptFromString:(NSString </em>)script;</strong></h4><pre><code>// 获取当前页面的title
NSString *title = [webview stringByEvaluatingJavaScriptFromString: WWWebDocumentTitle];

// 获取当前页面的url
NSString *url = [webview stringByEvaluatingJavaScriptFromString:@&quot;document.location.href&quot;];
</code></pre><h4 id="使用JSContext"><a href="#使用JSContext" class="headerlink" title="使用JSContext"></a>使用JSContext</h4><pre><code>JSContext *context = [webView valueForKeyPath:WWJavaScripeContext];
JSValue *value = [context evaluateScript:WWWebDocumentTitle];
NSLog(@&quot;%@&quot;,value.toString);
</code></pre><h2 id="2-JS调用OC"><a href="#2-JS调用OC" class="headerlink" title="2. JS调用OC"></a>2. JS调用OC</h2><h4 id="JS直接调用OC"><a href="#JS直接调用OC" class="headerlink" title="JS直接调用OC"></a>JS直接调用OC</h4><pre><code>JSContext *context = [webView valueForKeyPath:WWJavaScripeContext];

context[@&quot;testNo&quot;] = ^{
    NSLog(@&quot;JS-OC testNo&quot;);
};
context[@&quot;testTwo&quot;] = ^{
    NSArray *arr = [JSContext currentArguments];
    NSLog(@&quot;JS-OC testTwo&quot;);
    NSLog(@&quot;%@&quot;,arr);
};
</code></pre><p>在Block内都不要直接使用其外部定义的JSContext对象或者JSValue，应该将其当做参数传入到Block中，或者通过JSContext的类方法+ (JSContext *)currentContext;来获得。否则会造成循环引用使得内存无法被正确释放。</p>
<h4 id="JS通过对象调用OC"><a href="#JS通过对象调用OC" class="headerlink" title="JS通过对象调用OC"></a>JS通过对象调用OC</h4><p>TestJSObject 对象的定义:</p>
<p>.h 文件</p>
<pre><code>#import &lt;Foundation/Foundation.h&gt;
#import &lt;JavaScriptCore/JavaScriptCore.h&gt;

@protocol TestJSObjectProtocol &lt;JSExport&gt;
//此处我们测试几种参数的情况
- (void)testNoParameter;
- (void)testOneParameter:(NSString *)value;
- (void)testTwoParameter:(NSString *)value
          OhterParameter:(NSString *)other;
 JSExportAs(testMoreParameter,
    - (void)testMoreParameter:(NSString *)one two:(NSString *)two three:(NSString *)three
 );

@end

typedef void (^DDOCJSNoParameterBlock)();

@interface TestJSObject : NSObject&lt;TestJSObjectProtocol&gt;

@property (nonatomic, copy) DDOCJSNoParameterBlock noParameterBlock;

@end
</code></pre><p>.m 文件    </p>
<pre><code>#import &quot;TestJSObject.h&quot;

@implementation TestJSObject

- (void)testNoParameter {
    NSLog(@&quot;this is ios testNoParameter&quot;);
    if (self.noParameterBlock) {
        self.noParameterBlock();
    }
}

- (void)testOneParameter:(NSString *)value {
    NSLog(@&quot;this is testOneParameter = %@&quot;,value);
}

- (void)testTwoParameter:(NSString *)value
          OhterParameter:(NSString *)other {
    NSLog(@&quot;this is testTwoParameter = %@  other = %@&quot;,value,other);
}

- (void)testMoreParameter:(NSString *)one two:(NSString *)two three:(NSString *)three {
    NSLog(@&quot;this is OneParameter=%@ OneParameter=%@ OneParameter=%@&quot;,one,two,three);
}

@end
</code></pre><p>通过对象调用方法</p>
<pre><code>TestJSObject *object = [TestJSObject new];
context[@&quot;native&quot;] = object;

object.noParameterBlock = ^(){
    NSLog(@&quot;webview testNoParameter&quot;);
};
</code></pre><p>####OC代码见下图:</p>
<p><img src="../images/09/09-1.png" alt="avatar">        </p>
<p>####JS代码见下图</p>
<p><img src="../images/09/09-2.png" alt="avatar"><br><img src="../images/09/09-3.png" alt="avatar">        </p>

          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/10/13/09-iOS7以后UITextView的那些坑/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知是哪个号">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/10/13/09-iOS7以后UITextView的那些坑/" itemprop="url">09-iOS7以后UITextView的那些坑</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-10-13T00:00:00+08:00">
                2015-10-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/10/13/09-iOS7以后UITextView的那些坑/" class="leancloud_visitors" data-flag-title="09-iOS7以后UITextView的那些坑">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>###坑1：<br>iOS7及以上的版本上，UITextView出现这样的问题：弹出键盘时，没输入任何文字，但是光标位置不是在最上方</p>
<pre><code>解决方案: iOS7以后新增了一个属性automaticallyAdjustsScrollViewInsets，将其置为NO即可。别忘了加版本判断。

if (IOS7_And_Later) {  
      self.automaticallyAdjustsScrollViewInsets = NO;  
}  
</code></pre><p>###坑2:</p>
<p>iOS7及以上的版本上，UITextView输入中文时，在输入多行后，光标有时会上下跳动，输入文字的时候内容有时会往上跳，光标都显示不出来。这个bug坑死好多人啊，特别是做聊天输入框的时候，不得已找一些非正常的方法解决。从网上找的各种解决方案都不行。</p>
<p>解决方案：</p>
<pre><code>- (void)textViewDidChangeSelection:(UITextView *)textView {  
    if (floor(NSFoundationVersionNumber) &gt; NSFoundationVersionNumber_iOS_6_1) {  
        CGRect r = [textView caretRectForPosition:textView.selectedTextRange.end];  
        CGFloat caretY =  MAX(r.origin.y - textView.frame.size.height + r.size.height + 8, 0);  
        if (textView.contentOffset.y &lt; caretY &amp;&amp; r.origin.y != INFINITY) {  
            textView.contentOffset = CGPointMake(0, caretY);  
        }  
    }  
}  
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
      

  

  
  
  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2015/05/13/08-忽略performSelector警告/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content>
      <meta itemprop="description" content>
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="不知是哪个号">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
                
                <a class="post-title-link" href="/2015/05/13/08-忽略performSelector警告/" itemprop="url">08-忽略performSelector的警告</a></h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              
              <time title="Post created" itemprop="dateCreated datePublished" datetime="2015-05-13T00:00:00+08:00">
                2015-05-13
              </time>
            

            

            
          </span>

          

          
            
          

          
          
             <span id="/2015/05/13/08-忽略performSelector警告/" class="leancloud_visitors" data-flag-title="08-忽略performSelector的警告">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Visitors&#58;</span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <pre><code>#define SuppressPerformSelectorLeakWarning(Stuff) \
do { \
    _Pragma(&quot;clang diagnostic push&quot;) \
    _Pragma(&quot;clang diagnostic ignored \&quot;-Warc-performSelector-leaks\&quot;&quot;) \
    Stuff; \
    _Pragma(&quot;clang diagnostic pop&quot;) \
} while (0)
</code></pre><p>如果没有返回结果，可以直接按如下方式调用：</p>
<pre><code>SuppressPerformSelectorLeakWarning(
    [_target performSelector:_action withObject:self]
);
</code></pre><p>如果要返回结果，可以按如下方式调用:</p>
<pre><code>id result;
SuppressPerformSelectorLeakWarning(
    result = [_target performSelector:_action withObject:self]
);
</code></pre>
          
        
      
    </div>
    
    
    

    

    

    

    <footer class="post-footer">
      

      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </div>
  
  
  
  </article>


    
  </section>

  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      

      <section class="site-overview-wrap sidebar-panel sidebar-panel-active">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <p class="site-author-name" itemprop="name"></p>
              <p class="site-description motion-element" itemprop="description"></p>
          </div>

          <nav class="site-state motion-element">

            
              <div class="site-state-item site-state-posts">
              
                <a href="/archives">
              
                  <span class="site-state-item-count">17</span>
                  <span class="site-state-item-name">posts</span>
                </a>
              </div>
            

            
              
              
              <div class="site-state-item site-state-categories">
                
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">categories</span>
                
              </div>
            

            
              
              
              <div class="site-state-item site-state-tags">
                <a href="/tags/index.html">
                  <span class="site-state-item-count">2</span>
                  <span class="site-state-item-name">tags</span>
                </a>
              </div>
            

          </nav>

          

          

          
          

          
          

          

        </div>
      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder"></span>

  
</div>


  <div class="powered-by">Powered by <a class="theme-link" target="_blank" href="https://hexo.io">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme &mdash; <a class="theme-link" target="_blank" href="https://github.com/iissnan/hexo-theme-next">NexT.Pisces</a> v5.1.4</div>




        







        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  
    <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>
  

  
  
    <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>
  

  
  
    <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
  

  
  
    <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>
  


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.4"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.4"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.4"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.4"></script>



  


  




	





  





  












  





  

  
  <script src="https://cdn1.lncld.net/static/js/av-core-mini-0.6.4.js"></script>
  <script>AV.initialize("ooQOr7TTg57HoBj7HT3rMBQi-gzGzoHsz", "gVvc3Lp5txd9lBVhetFaDBFs");</script>
  <script>
    function showTime(Counter) {
      var query = new AV.Query(Counter);
      var entries = [];
      var $visitors = $(".leancloud_visitors");

      $visitors.each(function () {
        entries.push( $(this).attr("id").trim() );
      });

      query.containedIn('url', entries);
      query.find()
        .done(function (results) {
          var COUNT_CONTAINER_REF = '.leancloud-visitors-count';

          if (results.length === 0) {
            $visitors.find(COUNT_CONTAINER_REF).text(0);
            return;
          }

          for (var i = 0; i < results.length; i++) {
            var item = results[i];
            var url = item.get('url');
            var time = item.get('time');
            var element = document.getElementById(url);

            $(element).find(COUNT_CONTAINER_REF).text(time);
          }
          for(var i = 0; i < entries.length; i++) {
            var url = entries[i];
            var element = document.getElementById(url);
            var countSpan = $(element).find(COUNT_CONTAINER_REF);
            if( countSpan.text() == '') {
              countSpan.text(0);
            }
          }
        })
        .fail(function (object, error) {
          console.log("Error: " + error.code + " " + error.message);
        });
    }

    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();
      var query = new AV.Query(Counter);

      query.equalTo("url", url);
      query.find({
        success: function(results) {
          if (results.length > 0) {
            var counter = results[0];
            counter.fetchWhenSave(true);
            counter.increment("time");
            counter.save(null, {
              success: function(counter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(counter.get('time'));
              },
              error: function(counter, error) {
                console.log('Failed to save Visitor num, with error message: ' + error.message);
              }
            });
          } else {
            var newcounter = new Counter();
            /* Set ACL */
            var acl = new AV.ACL();
            acl.setPublicReadAccess(true);
            acl.setPublicWriteAccess(true);
            newcounter.setACL(acl);
            /* End Set ACL */
            newcounter.set("title", title);
            newcounter.set("url", url);
            newcounter.set("time", 1);
            newcounter.save(null, {
              success: function(newcounter) {
                var $element = $(document.getElementById(url));
                $element.find('.leancloud-visitors-count').text(newcounter.get('time'));
              },
              error: function(newcounter, error) {
                console.log('Failed to create');
              }
            });
          }
        },
        error: function(error) {
          console.log('Error:' + error.code + " " + error.message);
        }
      });
    }

    $(function() {
      var Counter = AV.Object.extend("Counter");
      if ($('.leancloud_visitors').length == 1) {
        addCount(Counter);
      } else if ($('.post-title-link').length > 1) {
        showTime(Counter);
      }
    });
  </script>



  

  

  
  

  

  

  

</body>
</html>
